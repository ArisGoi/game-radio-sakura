(function(){"use strict";var e={4898:function(e,t,n){var r=n(5130),o=n(6768),s=n(4232);const i={key:0,id:"game",ref:"game"},a={class:"counter",id:"counter"},c={class:"score"},u=["onClick"];function l(e,t,n,r,l,d){const m=(0,o.g2)("EndPage");return(0,o.uX)(),(0,o.CE)(o.FK,null,[0!=l.seconds?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",a,(0,s.v_)(d.formattedTime),1),(0,o.Lk)("div",c,(0,s.v_)(l.score),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.boxes,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,s.C4)(["box",{move:e.moving,bomb:!e.test,flower:e.test}]),onClick:t=>d.handleBoxClick(e),style:(0,s.Tr)(d.boxStyle(e))},null,14,u)))),128))],512)):(0,o.Q3)("",!0),0===l.seconds?((0,o.uX)(),(0,o.Wv)(m,{key:1,score:l.score,onRestart:d.restartGame},null,8,["score","onRestart"])):(0,o.Q3)("",!0)],64)}n(4114);const d=e=>((0,o.Qi)("data-v-6e21e033"),e=e(),(0,o.jt)(),e),m={class:"end-page"},h=d((()=>(0,o.Lk)("h1",null,"Game Over",-1)));function f(e,t,n,r,i,a){return(0,o.uX)(),(0,o.CE)("div",m,[h,(0,o.Lk)("p",null,"Your score: "+(0,s.v_)(n.score)+" points",1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.restartGame&&a.restartGame(...e))},"Restart")])}var v={name:"EndPage",props:{score:{type:Number,required:!0}},methods:{restartGame(){this.$emit("restart")}}},p=n(1241);const g=(0,p.A)(v,[["render",f],["__scopeId","data-v-6e21e033"]]);var b=g,x={name:"App",components:{EndPage:b},data(){return{score:0,seconds:90,boxes:[],gameInterval:null}},computed:{formattedTime(){return`${this.seconds<10?"0":""}${this.seconds}s`}},methods:{random(e,t){return Math.floor(Math.random()*(t-e+1)+e)},restartGame(){this.score=0,this.seconds=90,this.boxes=[],this.countdown(),this.runGame(),clearInterval(this.gameInterval),this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},boxStyle(e){return{width:`${e.size}px`,height:`${e.size}px`,left:`${e.position}px`,transition:`transform ${e.velocity}ms linear`,backgroundImage:`url('${e.image}')`,backgroundSize:"contain"}},handleBoxClick(e){this.score+=e.test?1:-1,this.boxes=this.boxes.filter((t=>t.id!==e.id))},dropBox(){if(console.log(this.$refs.game),this.$refs.game){const e=this.random(100,this.$refs.game.clientWidth-100),t=this.random(850,8e3),n=this.random(50,150),r=Math.round(Math.random()),o=r?"./flower.png":"./bomb.png",s={id:Math.random(),size:n,position:e,velocity:t,test:r,image:o,moving:!1};this.boxes.push(s),setTimeout((()=>{s.moving=!0}),this.random(0,5e3));const i=t+5e3;setTimeout((()=>{this.boxes=this.boxes.filter((e=>e.id!==s.id))}),i)}else console.error("Game element is not yet available")},runGame(){this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},countdown(){const e=()=>{this.seconds>0?(this.seconds--,setTimeout(e,1e3)):clearInterval(this.gameInterval)};e()}},mounted(){this.$nextTick((()=>{this.countdown(),this.runGame()}))}};const k=(0,p.A)(x,[["render",l]]);var y=k;(0,r.Ef)(y).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],o=e[l][1],s=e[l][2];for(var a=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,i=r[0],a=r[1],c=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)var l=c(n)}for(t&&t(r);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},r=self["webpackChunkradio_sakura_minigame"]=self["webpackChunkradio_sakura_minigame"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(4898)}));r=n.O(r)})();
//# sourceMappingURL=app.dccff2a3.js.map