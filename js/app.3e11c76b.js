(function(){"use strict";var e={1394:function(e,t,o){var n=o(5130),r=o(6768),i=o(4232);const s={key:0,id:"game",ref:"game"},a={class:"counter",id:"counter"},c={class:"score"},u=["id","onClick"];function l(e,t,o,n,l,d){const m=(0,r.g2)("FlowerComponent"),h=(0,r.g2)("BombComponent"),f=(0,r.g2)("EndPage");return(0,r.uX)(),(0,r.CE)(r.FK,null,[0!=l.seconds?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",a,(0,i.v_)(d.formattedTime),1),(0,r.Lk)("div",c,(0,i.v_)(l.score),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.boxes,(e=>((0,r.uX)(),(0,r.CE)("div",{id:`box-${e.id}`,key:e.id,class:(0,i.C4)(["box",{move:e.moving,bomb:!e.test,flower:e.test}]),onClick:t=>d.handleBoxClick(e),style:(0,i.Tr)(d.boxStyle(e))},[e.test?((0,r.uX)(),(0,r.Wv)(m,{key:0})):((0,r.uX)(),(0,r.Wv)(h,{key:1}))],14,u)))),128))],512)):(0,r.Q3)("",!0),0===l.seconds?((0,r.uX)(),(0,r.Wv)(f,{key:1,score:l.score,highScore:l.highScore,onRestart:d.restartGame},null,8,["score","highScore","onRestart"])):(0,r.Q3)("",!0)],64)}o(4114);const d=e=>((0,r.Qi)("data-v-2008aa93"),e=e(),(0,r.jt)(),e),m={class:"end-page"},h=d((()=>(0,r.Lk)("h1",null,"Game Over",-1)));function f(e,t,o,n,s,a){return(0,r.uX)(),(0,r.CE)("div",m,[h,(0,r.Lk)("p",null,"Your score: "+(0,i.v_)(o.score),1),(0,r.Lk)("p",null,"High score: ðŸŒŸ "+(0,i.v_)(o.highScore),1),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.restartGame&&a.restartGame(...e))},"Restart")])}var v={name:"EndPage",props:{score:{type:Number,required:!0},highScore:{type:Number,required:!0}},methods:{restartGame(){this.$emit("restart")}}},p=o(1241);const g=(0,p.A)(v,[["render",f],["__scopeId","data-v-2008aa93"]]);var b=g,x=o.p+"img/flower.031a49c5.png";const k=e=>((0,r.Qi)("data-v-62c95216"),e=e(),(0,r.jt)(),e),C={class:"flower"},y=k((()=>(0,r.Lk)("img",{src:x,alt:"Flower"},null,-1))),w=[y];function S(e,t,o,n,i,s){return(0,r.uX)(),(0,r.CE)("div",C,w)}var $={name:"FlowerComponent"};const _=(0,p.A)($,[["render",S],["__scopeId","data-v-62c95216"]]);var G=_,I=o.p+"img/bomb.3700d1a7.png";const E=e=>((0,r.Qi)("data-v-683dd608"),e=e(),(0,r.jt)(),e),O={class:"bomb"},X=E((()=>(0,r.Lk)("img",{src:I,alt:"Bomb"},null,-1))),j=[X];function B(e,t,o,n,i,s){return(0,r.uX)(),(0,r.CE)("div",O,j)}var T={name:"BombComponent"};const L=(0,p.A)(T,[["render",B],["__scopeId","data-v-683dd608"]]);var F=L,M=o(896),A=o.n(M),P={name:"App",components:{EndPage:b,FlowerComponent:G,BombComponent:F},data(){return{score:0,seconds:98,boxes:[],gameInterval:null,highScore:this.getCookie("maxScore")||0}},computed:{formattedTime(){return`${this.seconds<10?"0":""}${this.seconds}s`}},methods:{random(e,t){return Math.floor(Math.random()*(t-e+1)+e)},restartGame(){this.score=0,this.seconds=98,this.boxes=[],this.countdown(),this.runGame(),clearInterval(this.gameInterval),this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},boxStyle(e){return{width:`${e.size}px`,height:`${e.size}px`,left:`${e.position}px`,transition:`transform ${e.velocity}ms linear`}},handleBoxClick:A()((function(e){this.score+=e.test?1:-1,this.boxes=this.boxes.filter((t=>t.id!==e.id))}),100,{leading:!0,trailing:!1}),dropBox(){if(console.log(this.$refs.game),this.$refs.game){const e=this.random(100,this.$refs.game.clientWidth-100),t=this.random(900,1e4),o=this.random(50,120),n=Math.round(Math.random()),r={id:Math.random(),size:o,position:e,velocity:t,test:n,moving:!1};this.boxes.push(r),setTimeout((()=>{r.moving=!0}),this.random(0,5e3));const i=t+5e3;setTimeout((()=>{this.boxes=this.boxes.filter((e=>e.id!==r.id))}),i)}else console.error("Game element is not yet available")},runGame(){this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},countdown(){const e=()=>{this.seconds>0?(this.seconds--,setTimeout(e,1e3)):(this.endGame(),clearInterval(this.gameInterval))};e()},getCookie(e){const t=`; ${document.cookie}`,o=t.split(`; ${e}=`);if(2===o.length)return o.pop().split(";").shift()},endGame(){this.getCookie("maxScore")||(document.cookie="maxScore=0;path=/;max-age=31536000"),this.score>this.maxScore&&(this.highScore=this.score,document.cookie=`maxScore=${this.score};path=/;max-age=31536000`)}},mounted(){this.$nextTick((()=>{this.$refs.game?(this.countdown(),this.runGame()):console.error("Game element is not yet available"),this.maxScore=this.getCookie("maxScore")||0}))}};const Q=(0,p.A)(P,[["render",l]]);var W=Q;(0,n.Ef)(W).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,i){if(!n){var s=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],i=e[l][2];for(var a=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/game-radio-sakura/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,s=n[0],a=n[1],c=n[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)var l=c(o)}for(t&&t(n);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},n=self["webpackChunkradio_sakura_minigame"]=self["webpackChunkradio_sakura_minigame"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(1394)}));n=o.O(n)})();
//# sourceMappingURL=app.3e11c76b.js.map