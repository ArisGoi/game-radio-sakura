(function(){"use strict";var e={2937:function(e,t,n){var o=n(5130),r=n(6768),s=n(4232);const i={key:0,id:"game",ref:"game"},a={class:"counter",id:"counter"},c={class:"score"},u=["id","onClick"];function l(e,t,n,o,l,d){const m=(0,r.g2)("FlowerComponent"),f=(0,r.g2)("BombComponent"),v=(0,r.g2)("EndPage");return(0,r.uX)(),(0,r.CE)(r.FK,null,[0!=l.seconds?((0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",a,(0,s.v_)(d.formattedTime),1),(0,r.Lk)("div",c,(0,s.v_)(l.score),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.boxes,(e=>((0,r.uX)(),(0,r.CE)("div",{id:`box-${e.id}`,key:e.id,class:(0,s.C4)(["box",{move:e.moving,bomb:!e.test,flower:e.test}]),onClick:t=>d.handleBoxClick(e),style:(0,s.Tr)(d.boxStyle(e))},[e.test?((0,r.uX)(),(0,r.Wv)(m,{key:0})):((0,r.uX)(),(0,r.Wv)(f,{key:1}))],14,u)))),128))],512)):(0,r.Q3)("",!0),0===l.seconds?((0,r.uX)(),(0,r.Wv)(v,{key:1,score:l.score,onRestart:d.restartGame},null,8,["score","onRestart"])):(0,r.Q3)("",!0)],64)}n(4114);const d=e=>((0,r.Qi)("data-v-b2964f58"),e=e(),(0,r.jt)(),e),m={class:"end-page"},f=d((()=>(0,r.Lk)("h1",null,"Game Over",-1)));function v(e,t,n,o,i,a){return(0,r.uX)(),(0,r.CE)("div",m,[f,(0,r.Lk)("p",null,"Your score: "+(0,s.v_)(n.score),1),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.restartGame&&a.restartGame(...e))},"Restart")])}var h={name:"EndPage",props:{score:{type:Number,required:!0}},methods:{restartGame(){this.$emit("restart")}}},p=n(1241);const g=(0,p.A)(h,[["render",v],["__scopeId","data-v-b2964f58"]]);var b=g,k=n.p+"img/flower.031a49c5.png";const x=e=>((0,r.Qi)("data-v-62c95216"),e=e(),(0,r.jt)(),e),y={class:"flower"},C=x((()=>(0,r.Lk)("img",{src:k,alt:"Flower"},null,-1))),w=[C];function _(e,t,n,o,s,i){return(0,r.uX)(),(0,r.CE)("div",y,w)}var I={name:"FlowerComponent"};const $=(0,p.A)(I,[["render",_],["__scopeId","data-v-62c95216"]]);var E=$,O=n.p+"img/bomb.3700d1a7.png";const G=e=>((0,r.Qi)("data-v-683dd608"),e=e(),(0,r.jt)(),e),X={class:"bomb"},j=G((()=>(0,r.Lk)("img",{src:O,alt:"Bomb"},null,-1))),B=[j];function T(e,t,n,o,s,i){return(0,r.uX)(),(0,r.CE)("div",X,B)}var F={name:"BombComponent"};const L=(0,p.A)(F,[["render",T],["__scopeId","data-v-683dd608"]]);var M=L,A=n(896),P=n.n(A),Q={name:"App",components:{EndPage:b,FlowerComponent:E,BombComponent:M},data(){return{score:0,seconds:90,boxes:[],gameInterval:null}},computed:{formattedTime(){return`${this.seconds<10?"0":""}${this.seconds}s`}},methods:{random(e,t){return Math.floor(Math.random()*(t-e+1)+e)},restartGame(){this.score=0,this.seconds=90,this.boxes=[],this.countdown(),this.runGame(),clearInterval(this.gameInterval),this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},boxStyle(e){return{width:`${e.size}px`,height:`${e.size}px`,left:`${e.position}px`,transition:`transform ${e.velocity}ms linear`}},handleBoxClick:P()((function(e){this.score+=e.test?1:-1,this.boxes=this.boxes.filter((t=>t.id!==e.id))}),100,{leading:!0,trailing:!1}),dropBox(){if(console.log(this.$refs.game),this.$refs.game){const e=this.random(100,this.$refs.game.clientWidth-100),t=this.random(900,1e4),n=this.random(50,120),o=Math.round(Math.random()),r={id:Math.random(),size:n,position:e,velocity:t,test:o,moving:!1};this.boxes.push(r),setTimeout((()=>{r.moving=!0}),this.random(0,5e3));const s=t+5e3;setTimeout((()=>{this.boxes=this.boxes.filter((e=>e.id!==r.id))}),s)}else console.error("Game element is not yet available")},runGame(){this.gameInterval=setInterval((()=>{for(let e=0;e<10;e++)this.dropBox()}),5e3)},countdown(){const e=()=>{this.seconds>0?(this.seconds--,setTimeout(e,1e3)):clearInterval(this.gameInterval)};e()}},mounted(){this.$nextTick((()=>{this.$refs.game?(this.countdown(),this.runGame()):console.error("Game element is not yet available")}))}};const W=(0,p.A)(Q,[["render",l]]);var z=W;(0,o.Ef)(z).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],s=e[l][2];for(var a=!0,c=0;c<o.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/game-radio-sakura/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],c=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var l=c(n)}for(t&&t(o);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(l)},o=self["webpackChunkradio_sakura_minigame"]=self["webpackChunkradio_sakura_minigame"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(2937)}));o=n.O(o)})();
//# sourceMappingURL=app.7a5f4c72.js.map